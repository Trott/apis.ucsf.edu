var UCSF=UCSF||function(){"use strict";var e="undefined"!=typeof Zepto&&Zepto.ajax,n={serialize:function(e,n){var t=[];for(var r in e){var o=n?n+"["+r+"]":r,u=e[r];t.push("object"==typeof u?this.serialize(u,o):encodeURIComponent(o)+"="+encodeURIComponent(u))}return t.join("&")},createCORSRequest:function(n,t,r,o){var u;return e?(Zepto.ajax({type:"GET",url:t,success:r,error:o}),u=null):(u=new window.XMLHttpRequest,"withCredentials"in u?u.open(n,t):"undefined"!=typeof XDomainRequest?(u=new XDomainRequest,u.open(n,t)):u=null),u},createRequestString:function(e,n){var t=-1===e.indexOf("?")?"?":"&";return e+t+this.serialize(n)},run:function(n,t,r,o){o=o||function(e){window.alert(e.statusText||"An error occurred. Please try again.")};var u=UCSF.createRequestString("http://apis.ucsf.edu/"+n,t),a=UCSF.createCORSRequest("GET",u,r,o);null!==a?(a.onload=function(){r(JSON.parse(a.responseText))},a.onerror=o,a.send(null)):e||o("Cannot create CORS/XHR request")}};return n}();