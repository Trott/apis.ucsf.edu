var UCSF=UCSF||function(){"use strict";var e={_ie7q:[],serialize:function(e,t){var n=[];for(var r in e){var a=t?t+"["+r+"]":r,o=e[r];n.push("object"==typeof o?this.serialize(o,a):encodeURIComponent(a)+"="+encodeURIComponent(o))}return n.join("&")},createCORSRequest:function(e,t,n,r){var a=new window.XMLHttpRequest;return"withCredentials"in a?a.open(e,t):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open(e,t)):"undefined"!=typeof flensed&&"flXHR"in flensed?(a=new flensed.flXHR({xmlResponseText:!1,onreadystatechange:function(e){4===e.readyState&&(200===e.status&&n?n(JSON.parse(e.responseText)):r(e))},ontimeout:r,onerror:r}),a.open(e,t,!0)):a=null,a},createRequestString:function(e,t){var n=-1===e.indexOf("?")?"?":"&";return e+n+this.serialize(t)},run:function(e,t,n,r,a){r=r||function(e){window.alert(e.statusText||"An error occurred. Please try again.")};var o=UCSF.createRequestString("http://apis.ucsf.edu/"+e,t),l=UCSF.createCORSRequest("GET",o,n,r);!l&&a?UCSF._ie7q.push({callee:a,options:t,success:n,failure:r}):("readyState"in l?l.onreadystatechange=function(){4===l.readyState&&(l.status>=200&&300>l.status||304===l.status||0===l.status&&"file:"===window.location.protocol?(l.onreadystatechange=function(){},n(JSON.parse(l.responseText))):r(l))}:(l.onload=function(){n(JSON.parse(l.responseText))},l.onerror=r),l.send(null))}};if(!e.createCORSRequest("GET","http://www.example.com/")){window.flensed={base_path:"http://apis.ucsf.edu/static/flensed/"};var t=document.createElement("script");t.src="http://apis.ucsf.edu/static/ie7_polyfill.js",t.onreadystatechange=function(){if("complete"===t.readyState||"loaded"===t.readyState)for(var n=e._ie7q.length,r=0;n>r;r++)e._ie7q[r].callee(e._ie7q[r].options,e._ie7q[r].success,e._ie7q[r].failure)},document.getElementsByTagName("head")[0].appendChild(t)}return e}();