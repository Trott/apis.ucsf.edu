var UCSF=UCSF||function(){"use strict";var e="undefined"!=typeof Zepto&&Zepto.ajax,n={serialize:function(e,n){var t=[];for(var r in e){var o=n?n+"["+r+"]":r,a=e[r];t.push("object"==typeof a?this.serialize(a,o):encodeURIComponent(o)+"="+encodeURIComponent(a))}return t.join("&")},createCORSRequest:function(n,t,r,o){var a=new window.XMLHttpRequest;return"withCredentials"in a?e?Zepto.ajax({type:"GET",url:t,success:r,error:o}):a.open(n,t):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open(n,t)):a=null,a},createRequestString:function(e,n){var t=-1===e.indexOf("?")?"?":"&";return e+t+this.serialize(n)},run:function(n,t,r,o){o=o||function(e){window.alert(e.statusText||"An error occurred. Please try again.")};var a=UCSF.createRequestString("http://apis.ucsf.edu/"+n,t),i=UCSF.createCORSRequest("GET",a,r,o);null!==i&&"readyState"in i?e||(i.onload=function(){r(JSON.parse(i.responseText))},i.onerror=o,i.send(null)):(i.onload=function(){r(JSON.parse(i.responseText))},i.onerror=o,i.send(null))}};return n}();