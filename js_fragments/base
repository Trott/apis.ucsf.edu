var UCSF=UCSF||function(){"use strict";var e={serialize:function(e,t){var n=[];for(var r in e){var a=t?t+"["+r+"]":r,o=e[r];n.push("object"==typeof o?this.serialize(o,a):encodeURIComponent(a)+"="+encodeURIComponent(o))}return n.join("&")},createCORSRequest:function(e,t){var n=new window.XMLHttpRequest;return"withCredentials"in n?n.open(e,t):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n},createRequestString:function(e,t){var n=-1===e.indexOf("?")?"?":"&";return e+n+this.serialize(t)},run:function(e,t,n,r){r=r||function(e){window.alert(e.statusText||"An error occurred. Please try again.")};var a=UCSF.createRequestString("http://apis.ucsf.edu/"+e,t),o=UCSF.createCORSRequest("GET",a,n,r);"readyState"in o?o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&300>o.status||304===o.status||0===o.status&&"file:"===window.location.protocol?(o.onreadystatechange=function(){},n(JSON.parse(o.responseText))):r(o))}:(o.onload=function(){n(JSON.parse(o.responseText))},o.onerror=r),o.send(null)}};return e}();