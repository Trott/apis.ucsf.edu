var UCSF=UCSF||function(){"use strict";var a={serialize:function(a,b){var c=[];for(var d in a){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?this.serialize(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")},createCORSRequest:function(a,b,c,d){var e=new window.XMLHttpRequest;return"withCredentials"in e?e.open(a,b):"undefined"!=typeof XDomainRequest?(e=new XDomainRequest,e.open(a,b)):e=null,e},createRequestString:function(a,b){var c=a.indexOf("?")===-1?"?":"&";return a+c+this.serialize(b)},run:function(a,b,c,d){d=d||function(a){window.alert(a.statusText||"An error occurred. Please try again.")};var e=UCSF.createRequestString("https://apis.ucsf.edu/"+a,b),f=UCSF.createCORSRequest("GET",e,c,d);"readyState"in f?f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<300||304===f.status||0===f.status&&"file:"===window.location.protocol?(f.onreadystatechange=function(){},c(JSON.parse(f.responseText))):d(f))}:(f.onload=function(){c(JSON.parse(f.responseText))},f.onerror=d),f.send(null)}};return a}();