var UCSF=UCSF||function(){"use strict";var e="undefined"!=typeof Zepto,n={serialize:function(e,n){var t=[];for(var r in e){var o=n?n+"["+r+"]":r,i=e[r];t.push("object"==typeof i?this.serialize(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return t.join("&")},createCORSRequest:function(n,t,r,o){var i=new window.XMLHttpRequest;return"withCredentials"in i?e?Zepto.ajax({type:"GET",url:t,success:r,error:o}):i.open(n,t):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(n,t)):i=null,i},createRequestString:function(e,n){var t=-1===e.indexOf("?")?"?":"&";return e+t+this.serialize(n)},run:function(n,t,r,o){o=o||function(e){window.alert(e.statusText||"An error occurred. Please try again.")};var i=UCSF.createRequestString("http://apis.ucsf.edu/"+n,t),u=UCSF.createCORSRequest("GET",i,r,o);null!==u&&"readyState"in u?e||(u.onload=function(){r(JSON.parse(u.responseText))},u.onerror=o,u.send(null)):(u.onload=function(){r(JSON.parse(u.responseText))},u.onerror=o,u.send(null))}};return n}();