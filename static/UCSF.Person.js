var UCSF=function(){"use strict";var e=[],t={serialize:function(e,t){var n=[];for(var s in e){var o=t?t+"["+s+"]":s,r=e[s];n.push("object"==typeof r?this.serialize(r,o):encodeURIComponent(o)+"="+encodeURIComponent(r))}return n.join("&")},createCORSRequest:function(t,n,s,o,r){var a=new XMLHttpRequest;return"withCredentials"in a?a.open(t,n,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open(t,n)):"undefined"!=typeof flensed&&"flXHR"in flensed?(a=new flensed.flXHR({xmlResponseText:!1,onreadystatechange:function(e){4===e.readyState&&(200===e.status&&o?o(JSON.parse(e.responseText)):r(e.statusText))},ontimeout:r,onerror:r}),a.open(t,n,!0)):(e.push({options:s,success:o,failure:r}),a=null),a},makeCORSRequest:function(e,t,n,s){var o=-1===e.indexOf("?")?"?":"&",r=e+o+this.serialize(t),a=UCSF.createCORSRequest("GET",r,t,n,s);return a?(a.onload=function(){n(JSON.parse(a.responseText))},a.onerror=s,a.send(),void 0):(s&&s("CORS not supported"),void 0)},Person:{search:function(e,t,n){n=n||function(e){window.alert(e)},UCSF.makeCORSRequest("http://apis.ucsf.edu.trott.jit.su/person/search",e,t,n)}}};if(!t.createCORSRequest("GET","http://www.example.com/")){e=[],window.flensed={base_path:"http://apis.ucsf.edu.trott.jit.su/static/flensed/"};var n=document.createElement("script");n.src="http://apis.ucsf.edu.trott.jit.su/static/ie7_polyfill.js",n.onreadystatechange=function(){if("complete"===n.readyState||"loaded"===n.readyState)for(var t=e.length,s=0;t>s;s++)UCSF.Person.search(e[s].options,e[s].success,e[s].failure)},document.body.appendChild(n)}return t}();