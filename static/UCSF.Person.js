var UCSF=function(){"use strict";var e=[],t={serialize:function(e,t){var n=[];for(var s in e){var o=t?t+"["+s+"]":s,a=e[s];n.push("object"==typeof a?this.serialize(a,o):encodeURIComponent(o)+"="+encodeURIComponent(a))}return n.join("&")},createCORSRequest:function(t,n,s,o,a){var r=new XMLHttpRequest;return"withCredentials"in r?r.open(t,n,!0):"undefined"!=typeof XDomainRequest?(r=new XDomainRequest,r.open(t,n)):"undefined"!=typeof flensed&&"flXHR"in flensed?(r=new flensed.flXHR({xmlResponseText:!1,onreadystatechange:function(e){4===e.readyState&&(200===e.status&&o?o(JSON.parse(e.responseText)):a(e.statusText))},ontimeout:a,onerror:a}),r.open(t,n,!0)):(e.push({options:s,success:o,failure:a}),r=null),r},makeCORSRequest:function(e,t,n,s){var o=-1===e.indexOf("?")?"?":"&",a=e+o+this.serialize(t),r=UCSF.createCORSRequest("GET",a,t,n,s);r&&(r.onload=function(){n(JSON.parse(r.responseText))},r.onerror=s,r.send())},Person:{search:function(e,t,n){n=n||function(e){window.alert(e)},UCSF.makeCORSRequest("http://apis.ucsf.edu.trott.jit.su/person/search",e,t,n)}}};if(!t.createCORSRequest("GET","http://www.example.com/")){e=[];var n=document.createElement("script");n.src="http://apis.ucsf.edu.trott.jit.su/static/flensed/flXHR.js",n.onreadystatechange=function(){if("complete"===n.readyState||"loaded"===n.readyState)if("undefined"==typeof JSON){var t=document.createElement("script");t.src="//cdnjs.cloudflare.com/ajax/libs/json2/20121008/json2.js",t.onreadystatechange=function(){if("complete"===t.readyState||"loaded"===t.readyState)for(var n=e.length,s=0;n>s;s++)UCSF.Person.search(e[s].options,e[s].success,e[s].failure)},document.body.appendChild(t)}else for(var s=e.length,o=0;s>o;o++)UCSF.Person.search(e[o].options,e[o].success,e[o].failure)},document.body.appendChild(n)}return t}();