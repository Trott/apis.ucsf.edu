var UCSF=function(){"use strict";var e=[],t={serialize:function(e,t){var n=[];for(var s in e){var o=t?t+"["+s+"]":s,r=e[s];n.push("object"==typeof r?this.serialize(r,o):encodeURIComponent(o)+"="+encodeURIComponent(r))}return n.join("&")},createCORSRequest:function(t,s,o,r,a){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,s,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,s)):n!==void 0&&"flXHR"in n?(i=new n.flXHR({xmlResponseText:!1,onreadystatechange:function(e){4===e.readyState&&(200===e.status&&r?r(JSON.parse(e.responseText)):a(e.statusText))},ontimeout:a,onerror:a}),i.open(t,s,!0)):(e.push({options:o,success:r,failure:a}),i=null),i},makeCORSRequest:function(e,t,n,s){var o=-1===e.indexOf("?")?"?":"&",r=e+o+this.serialize(t),a=UCSF.createCORSRequest("GET",r,t,n,s);a&&(a.onload=function(){n(JSON.parse(a.responseText))},a.onerror=s,a.send())},Person:{search:function(e,t,n){n=n||function(e){window.alert(e)},UCSF.makeCORSRequest("http://apis.ucsf.edu.trott.jit.su/person/search",e,t,n)}}};if(!t.createCORSRequest("GET","http://www.example.com/")){e=[];var n={base_path:"http://apis.ucsf.edu.trott.jit.su/static/flensed"},s=document.createElement("script");s.src="http://apis.ucsf.edu.trott.jit.su/static/ie7_polyfills.js",s.onreadystatechange=function(){if("complete"===s.readyState||"loaded"===s.readyState)for(var t=e.length,n=0;t>n;n++)UCSF.Person.search(e[n].options,e[n].success,e[n].failure)},document.body.appendChild(s)}return t}();