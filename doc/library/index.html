---
---
{% include start.html title="Library API (Dev@UCSF)" %}

<script src="http://apis.ucsf.edu/jsapi?library"></script>

<div class="page-header">
    <h1>Dev@UCSF</h1>
</div>
<h2>Library JavaScript API</h2>
<h3>1. Insert a &lt;script> tag in your page to load the API</h3>
<pre>&lt;script src="http://apis.ucsf.edu/jsapi?library">&lt;/script></pre>
<h3>2. Call <code>UCSF.Library.hours()</code></h3>
<p><code>UCSF.Library.hours()</code> takes three parameters.</p>
<ol>
    <li><code>options</code> object reserved for later use; use an empty object for now</li>
    <li><code>success</code> callback that is passed a <code>results</code> object if there were no errors</li>
    <li>optional <code>failure</code> callback for when something goes horribly wrong</li>
</ol>
<h3>Demo</h3>
<form action="javascript:hours()">
    <input type="submit" id="submit" value="Run UCSF.Library.hours()" />
</form>
<h4>Results</h4>
<pre id="hours_results">JSON results will appear here.</pre>
<script>
    function hours() {
        document.getElementById("hours_results").innerHTML = "<progress>Loading...</progress>";

        var options = {};

        var successCallback = render;
        var failureCallback = null; // failureCallback is optional

        UCSF.Library.hours(options, successCallback, failureCallback);
    }

    function render(result) {
        var hours_results = document.getElementById("hours_results");
        var resultText = JSON.stringify(result, null, 4);
        if ("textContent" in hours_results) {
            hours_results.textContent = resultText;
        } else {
            hours_results.innerText = resultText;
        }
    };
</script>
<h4>Demo Source Code</h4>
<pre>
&lt;form action="javascript:hours()">
    &lt;input type="submit" id="submit" value="Run UCSF.Library.hours()" />
&lt;/form>
&lt;pre id="hours_results">JSON results will appear here.&lt;/pre>
&lt;script>
    function hours() {
        document.getElementById("hours_results").innerHTML = "&lt;progress>Loading...&lt;/progress>";

        var options = {};

        var successCallback = render;
        var failureCallback = null; // failureCallback is optional

        UCSF.Library.hours(options, successCallback, failureCallback);
    }

    function render(result) {
        var hours_results = document.getElementById("hours_results");
        var resultText = JSON.stringify(result, null, 4);
        if ("textContent" in hours_results) {
            hours_results.textContent = resultText;
        } else {
            hours_results.innerText = resultText;
        }
    };
&lt;/script>
</pre>

{% include end.html %}
